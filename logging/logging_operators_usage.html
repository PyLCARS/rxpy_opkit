
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>RxPy OpKit: Logging Operators Guide &#8212; Flat RxPy Operators (`rxpy_opkit`) Manual</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'logging/logging_operators_usage';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Missing Operators (Coming Soon)" href="../missing_operators/missing_operators_placeholder.html" />
    <link rel="prev" title="Flat Operators (Coming Soon)" href="../flat_operators/flat_operators_placeholder.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
  
    <p class="title logo__title">Flat RxPy Operators (`rxpy_opkit`) Manual</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    RxPy OpKit: Enhanced Operators for Reactive Programming
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Flat Operators</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../flat_operators/flat_operators_placeholder.html">Flat Operators (Coming Soon)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Logging</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">RxPy OpKit: Logging Operators Guide</a></li>



</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Missing Operators</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../missing_operators/missing_operators_placeholder.html">Missing Operators (Coming Soon)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Testing</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../testing/testing_placeholder.html">Testing (Coming Soon)</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/GProtoZeroW/rxpy_opkit" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/GProtoZeroW/rxpy_opkit/issues/new?title=Issue%20on%20page%20%2Flogging/logging_operators_usage.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/logging/logging_operators_usage.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>RxPy OpKit: Logging Operators Guide</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">RxPy OpKit: Logging Operators Guide</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#setup-and-imports">Setup and Imports</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#logging-loguru-setup">Logging (Loguru) Setup</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#logging-operators-from-rxpy-opkit">Logging Operators from <code class="docutils literal notranslate"><span class="pre">rxpy-opkit</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#log-basic-logging-operator"><code class="docutils literal notranslate"><span class="pre">log</span></code> - Basic Logging Operator</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#description-and-behavior">Description and Behavior</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#when-to-use-avoid-and-alternatives">When to Use/Avoid and Alternatives</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nominal-usage-examples">Nominal Usage Examples</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-example">Basic Example</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#custom-formatting-example">Custom Formatting Example</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#error-handling">Error Handling</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#example-handling-formatter-errors">Example: Handling Formatter Errors</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#marble-log-ascii-marble-diagram-logger"><code class="docutils literal notranslate"><span class="pre">marble_log</span></code> - ASCII Marble Diagram Logger</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Description and Behavior</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">When to Use/Avoid and Alternatives</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Nominal Usage Examples</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-marble-diagram">Basic Marble Diagram</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#multiple-streams-comparison">Multiple Streams Comparison</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#context-log-contextual-logger-with-structured-data"><code class="docutils literal notranslate"><span class="pre">context_log</span></code> - Contextual Logger with Structured Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Description and Behavior</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">When to Use/Avoid and Alternatives</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">Nominal Usage Examples</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#api-request-processing">API Request Processing</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#multi-service-pipeline">Multi-Service Pipeline</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rich-log-rich-formatting-logger"><code class="docutils literal notranslate"><span class="pre">rich_log</span></code> - Rich Formatting Logger</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Description and Behavior</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Nominal Usage Examples</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#perf-log-performance-monitoring-logger"><code class="docutils literal notranslate"><span class="pre">perf_log</span></code> - Performance Monitoring Logger</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">Description and Behavior</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">When to Use/Avoid and Alternatives</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">Nominal Usage Examples</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#performance-comparison">Performance Comparison</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#batch-processing-performance">Batch Processing Performance</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conditional-log-filtered-logging-operator"><code class="docutils literal notranslate"><span class="pre">conditional_log</span></code> - Filtered Logging Operator</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">Description and Behavior</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">Nominal Usage Examples</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#log-only-errors-and-warnings">Log Only Errors and Warnings</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#high-value-transaction-logging">High-Value Transaction Logging</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#helper-functions">Helper Functions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#debug-stream-quick-debugging-helper"><code class="docutils literal notranslate"><span class="pre">debug_stream</span></code> - Quick Debugging Helper</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#description">Description</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#timestamp-stream-timing-helper"><code class="docutils literal notranslate"><span class="pre">timestamp_stream</span></code> - Timing Helper</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">Description</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#best-practices-and-tips">Best Practices and Tips</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#choose-the-right-logger">1. <strong>Choose the Right Logger</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#performance-considerations">2. <strong>Performance Considerations</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#combining-loggers">3. <strong>Combining Loggers</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#production-vs-development">4. <strong>Production vs Development</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#error-handling-examples">Error Handling Examples</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#graceful-error-handling-in-streams">Graceful Error Handling in Streams</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#performance-impact-of-logging">Performance Impact of Logging</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#documentation-and-reference-links">Documentation and Reference Links</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="rxpy-opkit-logging-operators-guide">
<h1>RxPy OpKit: Logging Operators Guide<a class="headerlink" href="#rxpy-opkit-logging-operators-guide" title="Link to this heading">#</a></h1>
<p>This notebook demonstrates all the logging operators available in RxPy OpKit. These operators help you debug, monitor, and understand the behavior of your reactive streams.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="setup-and-imports">
<h1>Setup and Imports<a class="headerlink" href="#setup-and-imports" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Add project root and src to Python path</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="c1"># Directly use the absolute path to the project root</span>
<span class="c1"># This works both in notebooks and in scripts</span>
<span class="n">project_root</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;/media/storage/GShared/Todays_Projects/rxpy_opkit&#39;</span><span class="p">)</span>
<span class="n">src_dir</span> <span class="o">=</span> <span class="n">project_root</span> <span class="o">/</span> <span class="s1">&#39;src&#39;</span>

<span class="c1"># Print diagnostic information</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Project root: </span><span class="si">{</span><span class="n">project_root</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Source directory: </span><span class="si">{</span><span class="n">src_dir</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Directory exists: </span><span class="si">{</span><span class="n">project_root</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Source exists: </span><span class="si">{</span><span class="n">src_dir</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># In case the hard-coded path doesn&#39;t work, try to find the project root</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">src_dir</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hard-coded path didn&#39;t work, trying to find project root...&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># When running as a script</span>
        <span class="n">script_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
        <span class="n">project_root</span> <span class="o">=</span> <span class="n">script_path</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span>
        <span class="n">src_dir</span> <span class="o">=</span> <span class="n">project_root</span> <span class="o">/</span> <span class="s1">&#39;src&#39;</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Script-based project root: </span><span class="si">{</span><span class="n">project_root</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
        <span class="c1"># When in Jupyter, try working up from current directory</span>
        <span class="n">cwd</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Current working directory: </span><span class="si">{</span><span class="n">cwd</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        
        <span class="c1"># If we&#39;re in notebooks/logging, go up two directories</span>
        <span class="k">if</span> <span class="n">cwd</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;logging&#39;</span> <span class="ow">and</span> <span class="n">cwd</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;notebooks&#39;</span><span class="p">:</span>
            <span class="n">project_root</span> <span class="o">=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span>
        <span class="c1"># If we&#39;re in notebooks, go up one directory</span>
        <span class="k">elif</span> <span class="n">cwd</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;notebooks&#39;</span><span class="p">:</span>
            <span class="n">project_root</span> <span class="o">=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">parent</span>
        <span class="c1"># Otherwise assume we&#39;re at the project root</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">project_root</span> <span class="o">=</span> <span class="n">cwd</span>
            
        <span class="n">src_dir</span> <span class="o">=</span> <span class="n">project_root</span> <span class="o">/</span> <span class="s1">&#39;src&#39;</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Notebook-based project root: </span><span class="si">{</span><span class="n">project_root</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="c1"># Add both project root and src to Python path if not already there</span>
<span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_root</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">:</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_root</span><span class="p">))</span>
<span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">src_dir</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">:</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">src_dir</span><span class="p">))</span>

<span class="c1"># Verify the package can be imported</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">rxpy_opkit</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Successfully imported rxpy_opkit from: </span><span class="si">{</span><span class="n">rxpy_opkit</span><span class="o">.</span><span class="vm">__file__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to import rxpy_opkit: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Python path: </span><span class="si">{</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">raise</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">reactivex</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">rx</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">reactivex</span><span class="w"> </span><span class="kn">import</span> <span class="n">operators</span> <span class="k">as</span> <span class="n">ops</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">loguru</span><span class="w"> </span><span class="kn">import</span> <span class="n">logger</span>

<span class="c1"># Import logging operators from rxpy_opkit</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">rxpy_opkit.logging_ops</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">log</span><span class="p">,</span> <span class="n">marble_log</span><span class="p">,</span> <span class="n">context_log</span><span class="p">,</span> <span class="n">rich_log</span><span class="p">,</span> <span class="n">perf_log</span><span class="p">,</span> <span class="n">conditional_log</span><span class="p">,</span>
    <span class="n">debug_stream</span><span class="p">,</span> <span class="n">timestamp_stream</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Project root: /media/storage/GShared/Todays_Projects/rxpy_opkit
Source directory: /media/storage/GShared/Todays_Projects/rxpy_opkit/src
Directory exists: False
Source exists: False
Hard-coded path didn&#39;t work, trying to find project root...
Current working directory: /home/runner/work/rxpy_opkit/rxpy_opkit/notebooks/logging
Notebook-based project root: /home/runner/work/rxpy_opkit/rxpy_opkit
Successfully imported rxpy_opkit from: /home/runner/work/rxpy_opkit/rxpy_opkit/src/rxpy_opkit/__init__.py
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="logging-loguru-setup">
<h1>Logging (Loguru) Setup<a class="headerlink" href="#logging-loguru-setup" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Configure loguru for notebook output</span>
<span class="n">logger</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
<span class="n">logger</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span>
    <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;&lt;green&gt;{time:HH:mm:ss.SSS}&lt;/green&gt; | &lt;level&gt;</span><span class="si">{level: &lt;8}</span><span class="s2">&lt;/level&gt; | &lt;cyan&gt;</span><span class="si">{name}</span><span class="s2">&lt;/cyan&gt; - &lt;level&gt;</span><span class="si">{message}</span><span class="s2">&lt;/level&gt;&quot;</span><span class="p">,</span>
    <span class="n">colorize</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">level</span><span class="o">=</span><span class="s2">&quot;INFO&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="logging-operators-from-rxpy-opkit">
<h1>Logging Operators from <code class="docutils literal notranslate"><span class="pre">rxpy-opkit</span></code><a class="headerlink" href="#logging-operators-from-rxpy-opkit" title="Link to this heading">#</a></h1>
<section id="log-basic-logging-operator">
<h2><code class="docutils literal notranslate"><span class="pre">log</span></code> - Basic Logging Operator<a class="headerlink" href="#log-basic-logging-operator" title="Link to this heading">#</a></h2>
<section id="description-and-behavior">
<h3>Description and Behavior<a class="headerlink" href="#description-and-behavior" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">log</span></code> operator is the simplest logging operator that logs all events passing through a stream. It’s perfect for basic debugging and understanding data flow.</p>
<p><strong>Behavior Details:</strong></p>
<ul class="simple">
<li><p><strong>On Next</strong>: Logs each value with a counter and optional custom formatting</p></li>
<li><p><strong>On Complete</strong>: Logs completion with total count of values processed</p></li>
<li><p><strong>On Error</strong>: Logs error type and message</p></li>
<li><p><strong>Internal Errors</strong>: Formatting errors are caught and logged without interrupting the stream</p></li>
</ul>
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TD
    subgraph &quot;Source Observable&quot;
        SNext[&quot;on_next: value&quot;]
        SComplete[&quot;on_completed&quot;]
        SError[&quot;on_error: err&quot;]
    end
    
    subgraph &quot;log Operator&quot;
        LogValue[&quot;Log value with&lt;br/&gt;prefix and count&quot;]
        LogError[&quot;Log error type&lt;br/&gt;and message&quot;]
        LogComplete[&quot;Log completion&lt;br/&gt;with total count&quot;]
        FormatValue[&quot;Format value&lt;br/&gt;(truncate if needed)&quot;]
    end
    
    subgraph &quot;Subscriber&quot;
        ONext[&quot;on_next: value&lt;br/&gt;(unchanged)&quot;]
        OComplete[&quot;on_completed&quot;]
        OError[&quot;on_error: err&quot;]
    end
    

    SNext --&gt; FormatValue
    FormatValue --&gt; LogValue
    LogValue --&gt; ONext
    

    SComplete --&gt; LogComplete
    LogComplete --&gt; OComplete
    

    SError --&gt; LogError
    LogError --&gt; OError
    

    style SNext fill:#e4f7fb,stroke:#333
    style SComplete fill:#e4f7fb,stroke:#333
    style SError fill:#e4f7fb,stroke:#333
    
    style LogValue fill:#f96,stroke:#333
    style LogError fill:#f96,stroke:#333
    style LogComplete fill:#f96,stroke:#333
    style FormatValue fill:#f96,stroke:#333
    
    style ONext fill:#d5f5d5,stroke:#333
    style OComplete fill:#d5f5d5,stroke:#333
    style OError fill:#ffcccc,stroke:#333
</pre></div>
</div>
</section>
<section id="when-to-use-avoid-and-alternatives">
<h3>When to Use/Avoid and Alternatives<a class="headerlink" href="#when-to-use-avoid-and-alternatives" title="Link to this heading">#</a></h3>
<p><strong>When to Use:</strong></p>
<ul class="simple">
<li><p>Quick debugging of data flow through operators</p></li>
<li><p>Understanding what values are being emitted</p></li>
<li><p>Counting items in a stream</p></li>
<li><p>Basic stream monitoring in development</p></li>
</ul>
<p><strong>When to Avoid:</strong></p>
<ul class="simple">
<li><p>Production environments (unless with appropriate log levels)</p></li>
<li><p>High-frequency streams (can flood logs)</p></li>
<li><p>When you need structured logging (use <code class="docutils literal notranslate"><span class="pre">context_log</span></code> instead)</p></li>
</ul>
<p><strong>Alternatives:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">do_action</span></code>: Use built-in <code class="docutils literal notranslate"><span class="pre">do_action</span></code> with custom lambda for simple logging</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">context_log</span></code>: For structured logging with additional context</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">conditional_log</span></code>: To reduce log volume by filtering what gets logged</p></li>
</ul>
</section>
<section id="nominal-usage-examples">
<h3>Nominal Usage Examples<a class="headerlink" href="#nominal-usage-examples" title="Link to this heading">#</a></h3>
<section id="basic-example">
<h4>Basic Example<a class="headerlink" href="#basic-example" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Basic example demonstrating log operator</span>
<span class="n">source</span> <span class="o">=</span> <span class="n">rx</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

<span class="c1"># Add logging at different points in the pipeline</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
    <span class="n">log</span><span class="p">(</span><span class="s2">&quot;Input&quot;</span><span class="p">),</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">10</span><span class="p">),</span>
    <span class="n">log</span><span class="p">(</span><span class="s2">&quot;Mapped&quot;</span><span class="p">),</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">25</span><span class="p">),</span>
    <span class="n">log</span><span class="p">(</span><span class="s2">&quot;Filtered&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Example: Basic log operator&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;---------------------------&quot;</span><span class="p">)</span>
<span class="n">result</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span>
    <span class="n">on_next</span><span class="o">=</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Final result: </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">),</span>
    <span class="n">on_completed</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Stream completed&quot;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Example: Basic log operator
---------------------------
<span class=" -Color -Color-Green">20:06:17.565</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Input] [1] Value: 1</span>
<span class=" -Color -Color-Green">20:06:17.566</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Mapped] [1] Value: 10</span>
<span class=" -Color -Color-Green">20:06:17.566</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Input] [2] Value: 2</span>
<span class=" -Color -Color-Green">20:06:17.567</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Mapped] [2] Value: 20</span>
<span class=" -Color -Color-Green">20:06:17.567</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Input] [3] Value: 3</span>
<span class=" -Color -Color-Green">20:06:17.568</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Mapped] [3] Value: 30</span>
<span class=" -Color -Color-Green">20:06:17.569</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Filtered] [1] Value: 30</span>
Final result: 30
<span class=" -Color -Color-Green">20:06:17.570</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Input] [4] Value: 4</span>
<span class=" -Color -Color-Green">20:06:17.570</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Mapped] [4] Value: 40</span>
<span class=" -Color -Color-Green">20:06:17.571</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Filtered] [2] Value: 40</span>
Final result: 40
<span class=" -Color -Color-Green">20:06:17.572</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Input] [5] Value: 5</span>
<span class=" -Color -Color-Green">20:06:17.572</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Mapped] [5] Value: 50</span>
<span class=" -Color -Color-Green">20:06:17.573</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Filtered] [3] Value: 50</span>
Final result: 50
<span class=" -Color -Color-Green">20:06:17.573</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Input] Completed after 5 values</span>
<span class=" -Color -Color-Green">20:06:17.574</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Mapped] Completed after 5 values</span>
<span class=" -Color -Color-Green">20:06:17.574</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Filtered] Completed after 3 values</span>
Stream completed
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;reactivex.disposable.disposable.Disposable at 0x7f8ed0f0d450&gt;
</pre></div>
</div>
</div>
</div>
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>sequenceDiagram
    participant Source
    participant Log1 as log(&quot;Input&quot;)
    participant Map as map(x*10)
    participant Log2 as log(&quot;Mapped&quot;)
    participant Filter as filter(&gt;25)
    participant Log3 as log(&quot;Filtered&quot;)
    participant Observer
    
    Source-&gt;&gt;Log1: 1
    Note over Log1: [Input] [1] Value: 1
    Log1-&gt;&gt;Map: 1
    Map-&gt;&gt;Log2: 10
    Note over Log2: [Mapped] [1] Value: 10
    Log2-&gt;&gt;Filter: 10
    Note over Filter: 10 &lt;= 25, filtered out
    
    Source-&gt;&gt;Log1: 2
    Note over Log1: [Input] [2] Value: 2
    Log1-&gt;&gt;Map: 2
    Map-&gt;&gt;Log2: 20
    Note over Log2: [Mapped] [2] Value: 20
    Log2-&gt;&gt;Filter: 20
    Note over Filter: 20 &lt;= 25, filtered out
    
    Source-&gt;&gt;Log1: 3
    Note over Log1: [Input] [3] Value: 3
    Log1-&gt;&gt;Map: 3
    Map-&gt;&gt;Log2: 30
    Note over Log2: [Mapped] [3] Value: 30
    Log2-&gt;&gt;Filter: 30
    Filter-&gt;&gt;Log3: 30
    Note over Log3: [Filtered] [1] Value: 30
    Log3-&gt;&gt;Observer: 30
    
    Source-&gt;&gt;Log1: complete
    Note over Log1: [Input] Completed after 5 values
    Log1-&gt;&gt;Map: complete
    Map-&gt;&gt;Log2: complete
    Note over Log2: [Mapped] Completed after 5 values
    Log2-&gt;&gt;Filter: complete
    Filter-&gt;&gt;Log3: complete
    Note over Log3: [Filtered] Completed after 3 values
    Log3-&gt;&gt;Observer: complete
</pre></div>
</div>
</section>
<section id="custom-formatting-example">
<h4>Custom Formatting Example<a class="headerlink" href="#custom-formatting-example" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Custom formatter for complex objects</span>
<span class="k">def</span><span class="w"> </span><span class="nf">custom_formatter</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;User(id=</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">, name=</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

<span class="c1"># Source with dictionary values</span>
<span class="n">users</span> <span class="o">=</span> <span class="n">rx</span><span class="o">.</span><span class="n">of</span><span class="p">(</span>
    <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Alice&quot;</span><span class="p">,</span> <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;alice@example.com&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;bob@example.com&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Charlie&quot;</span><span class="p">,</span> <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;charlie@example.com&quot;</span><span class="p">}</span>
<span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">users</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
    <span class="n">log</span><span class="p">(</span><span class="s2">&quot;Users&quot;</span><span class="p">,</span> <span class="n">value_formatter</span><span class="o">=</span><span class="n">custom_formatter</span><span class="p">),</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()),</span>
    <span class="n">log</span><span class="p">(</span><span class="s2">&quot;Names&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Example: Custom Value Formatting&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--------------------------------&quot;</span><span class="p">)</span>
<span class="n">result</span><span class="o">.</span><span class="n">subscribe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Example: Custom Value Formatting
--------------------------------
<span class=" -Color -Color-Green">20:06:17.583</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Users] [1] Value: User(id=1, name=Alice)</span>
<span class=" -Color -Color-Green">20:06:17.583</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Names] [1] Value: ALICE</span>
<span class=" -Color -Color-Green">20:06:17.584</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Users] [2] Value: User(id=2, name=Bob)</span>
<span class=" -Color -Color-Green">20:06:17.584</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Names] [2] Value: BOB</span>
<span class=" -Color -Color-Green">20:06:17.585</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Users] [3] Value: User(id=3, name=Charlie)</span>
<span class=" -Color -Color-Green">20:06:17.585</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Names] [3] Value: CHARLIE</span>
<span class=" -Color -Color-Green">20:06:17.585</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Users] Completed after 3 values</span>
<span class=" -Color -Color-Green">20:06:17.586</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Names] Completed after 3 values</span>
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;reactivex.disposable.disposable.Disposable at 0x7f8ed84399d0&gt;
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="error-handling">
<h3>Error Handling<a class="headerlink" href="#error-handling" title="Link to this heading">#</a></h3>
<p>Common errors when using <code class="docutils literal notranslate"><span class="pre">log</span></code> operator:</p>
<ol class="arabic simple">
<li><p><strong>Formatter errors</strong>: Custom formatters may fail on unexpected value types</p></li>
<li><p><strong>String conversion errors</strong>: Some objects may not have proper string representations</p></li>
<li><p><strong>Performance impact</strong>: Logging every value in high-frequency streams</p></li>
</ol>
<p><strong>Best Practices:</strong></p>
<ul class="simple">
<li><p>Use safe formatters that handle exceptions</p></li>
<li><p>Configure appropriate log levels for different environments</p></li>
<li><p>Consider <code class="docutils literal notranslate"><span class="pre">conditional_log</span></code> for high-frequency streams</p></li>
</ul>
<section id="example-handling-formatter-errors">
<h4>Example: Handling Formatter Errors<a class="headerlink" href="#example-handling-formatter-errors" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Formatter that might fail</span>
<span class="k">def</span><span class="w"> </span><span class="nf">risky_formatter</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="c1"># This will fail if value doesn&#39;t have &#39;data&#39; attribute</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Data: </span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">data</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="c1"># Mix of values, some will cause formatter errors</span>
<span class="n">source</span> <span class="o">=</span> <span class="n">rx</span><span class="o">.</span><span class="n">of</span><span class="p">(</span>
    <span class="p">{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;good&quot;</span><span class="p">},</span>
    <span class="s2">&quot;bad_value&quot;</span><span class="p">,</span>  <span class="c1"># This will cause formatter error</span>
    <span class="p">{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;also_good&quot;</span><span class="p">}</span>
<span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
    <span class="n">log</span><span class="p">(</span><span class="s2">&quot;Risky&quot;</span><span class="p">,</span> <span class="n">value_formatter</span><span class="o">=</span><span class="n">risky_formatter</span><span class="p">)</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Example: Formatter Error Handling&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;---------------------------------&quot;</span><span class="p">)</span>
<span class="n">result</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span>
    <span class="n">on_next</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Received: </span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">),</span>
    <span class="n">on_error</span><span class="o">=</span><span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Stream error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Example: Formatter Error Handling
---------------------------------
<span class=" -Color -Color-Green">20:06:17.593</span> | <span class=" -Color -Color-Bold -Color-Bold-Red">ERROR   </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold -Color-Bold-Red">[Risky] Error: AttributeError: &#39;dict&#39; object has no attribute &#39;data&#39;</span>
Stream error: &#39;dict&#39; object has no attribute &#39;data&#39;
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;reactivex.disposable.disposable.Disposable at 0x7f8ed0f4f1b0&gt;
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="marble-log-ascii-marble-diagram-logger">
<h2><code class="docutils literal notranslate"><span class="pre">marble_log</span></code> - ASCII Marble Diagram Logger<a class="headerlink" href="#marble-log-ascii-marble-diagram-logger" title="Link to this heading">#</a></h2>
<section id="id1">
<h3>Description and Behavior<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">marble_log</span></code> operator creates ASCII marble diagrams to visualize the timing and sequence of events in a stream. It’s excellent for understanding async behavior and timing.</p>
<p><strong>Behavior Details:</strong></p>
<ul class="simple">
<li><p><strong>On Next</strong>: Adds a symbol to the timeline representing the value</p></li>
<li><p><strong>On Complete</strong>: Shows completion marker <code class="docutils literal notranslate"><span class="pre">|</span></code> on the timeline</p></li>
<li><p><strong>On Error</strong>: Shows error marker <code class="docutils literal notranslate"><span class="pre">X</span></code> on the timeline</p></li>
<li><p><strong>Internal Errors</strong>: None expected (simple string operations)</p></li>
</ul>
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TD
    subgraph &quot;Source Observable&quot;
        SNext[&quot;on_next: value&quot;]
        SComplete[&quot;on_completed&quot;]
        SError[&quot;on_error: err&quot;]
    end
    
    subgraph &quot;marble_log Operator&quot;
        AddToTimeline[&quot;Add event to timeline&quot;]
        SelectSymbol[&quot;Select symbol:&lt;br/&gt;• numbers: first digit&lt;br/&gt;• strings: first char&lt;br/&gt;• other: •&quot;]
        PrintTimeline[&quot;Print timeline with&lt;br/&gt;dashes and symbols&quot;]
        MarkComplete[&quot;Add | symbol&quot;]
        MarkError[&quot;Add X symbol&quot;]
    end
    
    subgraph &quot;Subscriber&quot;
        ONext[&quot;on_next: value&lt;br/&gt;(unchanged)&quot;]
        OComplete[&quot;on_completed&quot;]
        OError[&quot;on_error: err&quot;]
    end
    

    SNext --&gt; SelectSymbol
    SelectSymbol --&gt; AddToTimeline
    AddToTimeline --&gt; PrintTimeline
    PrintTimeline --&gt; ONext
    

    SComplete --&gt; MarkComplete
    MarkComplete --&gt; PrintTimeline
    PrintTimeline --&gt; OComplete
    

    SError --&gt; MarkError
    MarkError --&gt; PrintTimeline
    PrintTimeline --&gt; OError
    

    style SNext fill:#e4f7fb,stroke:#333
    style SComplete fill:#e4f7fb,stroke:#333
    style SError fill:#e4f7fb,stroke:#333
    
    style AddToTimeline fill:#f96,stroke:#333
    style SelectSymbol fill:#f96,stroke:#333
    style PrintTimeline fill:#f96,stroke:#333
    style MarkComplete fill:#f96,stroke:#333
    style MarkError fill:#f96,stroke:#333
    
    style ONext fill:#d5f5d5,stroke:#333
    style OComplete fill:#d5f5d5,stroke:#333
    style OError fill:#ffcccc,stroke:#333
</pre></div>
</div>
</section>
<section id="id2">
<h3>When to Use/Avoid and Alternatives<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<p><strong>When to Use:</strong></p>
<ul class="simple">
<li><p>Visualizing timing of async operations</p></li>
<li><p>Understanding operator behavior with delays</p></li>
<li><p>Teaching/demonstrating reactive concepts</p></li>
<li><p>Debugging race conditions or timing issues</p></li>
</ul>
<p><strong>When to Avoid:</strong></p>
<ul class="simple">
<li><p>Production code (it’s a debugging tool)</p></li>
<li><p>Very long-running streams (timeline gets truncated)</p></li>
<li><p>When you need precise timing measurements (use <code class="docutils literal notranslate"><span class="pre">perf_log</span></code>)</p></li>
</ul>
<p><strong>Alternatives:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">timestamp</span></code>: Built-in operator to add timestamps to values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">perf_log</span></code>: For precise performance measurements</p></li>
<li><p>External visualization tools for production monitoring</p></li>
</ul>
</section>
<section id="id3">
<h3>Nominal Usage Examples<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<section id="basic-marble-diagram">
<h4>Basic Marble Diagram<a class="headerlink" href="#basic-marble-diagram" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create an interval observable for timing visualization</span>
<span class="n">source</span> <span class="o">=</span> <span class="n">rx</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
    <span class="n">marble_log</span><span class="p">(</span><span class="s2">&quot;Source&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">30</span><span class="p">),</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span><span class="p">),</span>
    <span class="n">marble_log</span><span class="p">(</span><span class="s2">&quot;Mapped&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">30</span><span class="p">),</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">4</span> <span class="o">==</span> <span class="mi">0</span><span class="p">),</span>
    <span class="n">marble_log</span><span class="p">(</span><span class="s2">&quot;Filtered&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Example: Marble Diagram Visualization&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;------------------------------------&quot;</span><span class="p">)</span>
<span class="c1"># This will show the marble diagram in real-time</span>
<span class="n">subscription</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">subscribe</span><span class="p">()</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">2.5</span><span class="p">)</span>  <span class="c1"># Let it run</span>
<span class="n">subscription</span><span class="o">.</span><span class="n">dispose</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">20:06:17.601</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Source: ------------------------------ (START)</span>
<span class=" -Color -Color-Green">20:06:17.602</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Mapped: ------------------------------ (START)</span>
<span class=" -Color -Color-Green">20:06:17.602</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">       Filtered: ------------------------------ (START)</span>
Example: Marble Diagram Visualization
------------------------------------
<span class=" -Color -Color-Green">20:06:17.804</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Source: 0-----------------------------</span>
<span class=" -Color -Color-Green">20:06:17.804</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Mapped: 0-----------------------------</span>
<span class=" -Color -Color-Green">20:06:17.805</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">       Filtered: 0-----------------------------</span>
<span class=" -Color -Color-Green">20:06:18.004</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Source: 01----------------------------</span>
<span class=" -Color -Color-Green">20:06:18.005</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Mapped: 02----------------------------</span>
<span class=" -Color -Color-Green">20:06:18.204</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Source: 012---------------------------</span>
<span class=" -Color -Color-Green">20:06:18.205</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Mapped: 024---------------------------</span>
<span class=" -Color -Color-Green">20:06:18.206</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">       Filtered: 04----------------------------</span>
<span class=" -Color -Color-Green">20:06:18.404</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Source: 0123--------------------------</span>
<span class=" -Color -Color-Green">20:06:18.405</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Mapped: 0246--------------------------</span>
<span class=" -Color -Color-Green">20:06:18.605</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Source: 01234-------------------------</span>
<span class=" -Color -Color-Green">20:06:18.605</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Mapped: 02468-------------------------</span>
<span class=" -Color -Color-Green">20:06:18.606</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">       Filtered: 048---------------------------</span>
<span class=" -Color -Color-Green">20:06:18.805</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Source: 012345------------------------</span>
<span class=" -Color -Color-Green">20:06:18.806</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Mapped: 02468•------------------------</span>
<span class=" -Color -Color-Green">20:06:19.005</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Source: 0123456-----------------------</span>
<span class=" -Color -Color-Green">20:06:19.006</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Mapped: 02468••-----------------------</span>
<span class=" -Color -Color-Green">20:06:19.007</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">       Filtered: 048•--------------------------</span>
<span class=" -Color -Color-Green">20:06:19.205</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Source: 01234567----------------------</span>
<span class=" -Color -Color-Green">20:06:19.206</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Mapped: 02468•••----------------------</span>
<span class=" -Color -Color-Green">20:06:19.406</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Source: 012345678---------------------</span>
<span class=" -Color -Color-Green">20:06:19.406</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Mapped: 02468••••---------------------</span>
<span class=" -Color -Color-Green">20:06:19.407</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">       Filtered: 048••-------------------------</span>
<span class=" -Color -Color-Green">20:06:19.606</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Source: 0123456789--------------------</span>
<span class=" -Color -Color-Green">20:06:19.607</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Mapped: 02468•••••--------------------</span>
<span class=" -Color -Color-Green">20:06:19.607</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Source: 0123456789|------------------- (COMPLETED)</span>
<span class=" -Color -Color-Green">20:06:19.608</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Mapped: 02468•••••|------------------- (COMPLETED)</span>
<span class=" -Color -Color-Green">20:06:19.608</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">       Filtered: 048••|------------------------ (COMPLETED)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="multiple-streams-comparison">
<h4>Multiple Streams Comparison<a class="headerlink" href="#multiple-streams-comparison" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Compare two different streams</span>
<span class="n">stream1</span> <span class="o">=</span> <span class="n">rx</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;A</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">),</span>
    <span class="n">marble_log</span><span class="p">(</span><span class="s2">&quot;Stream A&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">stream2</span> <span class="o">=</span> <span class="n">rx</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;B</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">),</span>
    <span class="n">marble_log</span><span class="p">(</span><span class="s2">&quot;Stream B&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">merged</span> <span class="o">=</span> <span class="n">rx</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">stream1</span><span class="p">,</span> <span class="n">stream2</span><span class="p">)</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
    <span class="n">marble_log</span><span class="p">(</span><span class="s2">&quot;Merged&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Example: Multiple Stream Comparison&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-----------------------------------&quot;</span><span class="p">)</span>
<span class="n">sub</span> <span class="o">=</span> <span class="n">merged</span><span class="o">.</span><span class="n">subscribe</span><span class="p">()</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1.8</span><span class="p">)</span>
<span class="n">sub</span><span class="o">.</span><span class="n">dispose</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">20:06:20.109</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">       Stream A: ---------------------------------------- (START)</span>
<span class=" -Color -Color-Green">20:06:20.110</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">       Stream B: ---------------------------------------- (START)</span>
<span class=" -Color -Color-Green">20:06:20.112</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Merged: ---------------------------------------- (START)</span>

Example: Multiple Stream Comparison
-----------------------------------
<span class=" -Color -Color-Green">20:06:20.313</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">       Stream B: B---------------------------------------</span>
<span class=" -Color -Color-Green">20:06:20.314</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Merged: B---------------------------------------</span>
<span class=" -Color -Color-Green">20:06:20.413</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">       Stream A: A---------------------------------------</span>
<span class=" -Color -Color-Green">20:06:20.414</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Merged: BA--------------------------------------</span>
<span class=" -Color -Color-Green">20:06:20.514</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">       Stream B: BB--------------------------------------</span>
<span class=" -Color -Color-Green">20:06:20.514</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Merged: BAB-------------------------------------</span>
<span class=" -Color -Color-Green">20:06:20.713</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">       Stream A: AA--------------------------------------</span>
<span class=" -Color -Color-Green">20:06:20.714</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Merged: BABA------------------------------------</span>
<span class=" -Color -Color-Green">20:06:20.714</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">       Stream B: BBB-------------------------------------</span>
<span class=" -Color -Color-Green">20:06:20.716</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Merged: BABAB-----------------------------------</span>
<span class=" -Color -Color-Green">20:06:20.914</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">       Stream B: BBBB------------------------------------</span>
<span class=" -Color -Color-Green">20:06:20.915</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Merged: BABABB----------------------------------</span>
<span class=" -Color -Color-Green">20:06:21.014</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">       Stream A: AAA-------------------------------------</span>
<span class=" -Color -Color-Green">20:06:21.014</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Merged: BABABBA---------------------------------</span>
<span class=" -Color -Color-Green">20:06:21.115</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">       Stream B: BBBBB-----------------------------------</span>
<span class=" -Color -Color-Green">20:06:21.115</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Merged: BABABBAB--------------------------------</span>
<span class=" -Color -Color-Green">20:06:21.314</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">       Stream A: AAAA------------------------------------</span>
<span class=" -Color -Color-Green">20:06:21.315</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Merged: BABABBABA-------------------------------</span>
<span class=" -Color -Color-Green">20:06:21.315</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">       Stream B: BBBBBB----------------------------------</span>
<span class=" -Color -Color-Green">20:06:21.316</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Merged: BABABBABAB------------------------------</span>
<span class=" -Color -Color-Green">20:06:21.515</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">       Stream B: BBBBBBB---------------------------------</span>
<span class=" -Color -Color-Green">20:06:21.516</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Merged: BABABBABABB-----------------------------</span>
<span class=" -Color -Color-Green">20:06:21.517</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">       Stream B: BBBBBBB|-------------------------------- (COMPLETED)</span>
<span class=" -Color -Color-Green">20:06:21.614</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">       Stream A: AAAAA-----------------------------------</span>
<span class=" -Color -Color-Green">20:06:21.615</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Merged: BABABBABABBA----------------------------</span>
<span class=" -Color -Color-Green">20:06:21.615</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">       Stream A: AAAAA|---------------------------------- (COMPLETED)</span>
<span class=" -Color -Color-Green">20:06:21.616</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">         Merged: BABABBABABBA|--------------------------- (COMPLETED)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="context-log-contextual-logger-with-structured-data">
<h2><code class="docutils literal notranslate"><span class="pre">context_log</span></code> - Contextual Logger with Structured Data<a class="headerlink" href="#context-log-contextual-logger-with-structured-data" title="Link to this heading">#</a></h2>
<section id="id4">
<h3>Description and Behavior<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">context_log</span></code> operator adds rich contextual information to every log entry, including timing, event counts, and custom context fields. Perfect for structured logging and production monitoring.</p>
<p><strong>Behavior Details:</strong></p>
<ul class="simple">
<li><p><strong>On Next</strong>: Logs with event count, elapsed time, value type, and custom context</p></li>
<li><p><strong>On Complete</strong>: Logs with final statistics and elapsed time</p></li>
<li><p><strong>On Error</strong>: Logs with error details and context</p></li>
<li><p><strong>Internal Errors</strong>: None expected (robust error handling)</p></li>
</ul>
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TD
    subgraph &quot;Source Observable&quot;
        SNext[&quot;on_next: value&quot;]
        SComplete[&quot;on_completed&quot;]
        SError[&quot;on_error: err&quot;]
    end
    
    subgraph &quot;context_log Operator&quot;
        BindContext[&quot;Bind logger with&lt;br/&gt;operator name &amp; context&quot;]
        CalcElapsed[&quot;Calculate elapsed time&lt;br/&gt;since start&quot;]
        IncrementCount[&quot;Increment event counter&quot;]
        LogWithContext[&quot;Log with:&lt;br/&gt;• event type&lt;br/&gt;• count&lt;br/&gt;• elapsed time&lt;br/&gt;• value type&lt;br/&gt;• custom context&quot;]
    end
    
    subgraph &quot;Subscriber&quot;
        ONext[&quot;on_next: value&lt;br/&gt;(unchanged)&quot;]
        OComplete[&quot;on_completed&quot;]
        OError[&quot;on_error: err&quot;]
    end
    

    SNext --&gt; IncrementCount
    IncrementCount --&gt; CalcElapsed
    CalcElapsed --&gt; LogWithContext
    LogWithContext --&gt; ONext
    

    SComplete --&gt; CalcElapsed
    CalcElapsed --&gt; LogWithContext
    LogWithContext --&gt; OComplete
    

    SError --&gt; CalcElapsed
    CalcElapsed --&gt; LogWithContext
    LogWithContext --&gt; OError
    

    style SNext fill:#e4f7fb,stroke:#333
    style SComplete fill:#e4f7fb,stroke:#333
    style SError fill:#e4f7fb,stroke:#333
    
    style BindContext fill:#f96,stroke:#333
    style CalcElapsed fill:#f96,stroke:#333
    style IncrementCount fill:#f96,stroke:#333
    style LogWithContext fill:#f96,stroke:#333
    
    style ONext fill:#d5f5d5,stroke:#333
    style OComplete fill:#d5f5d5,stroke:#333
    style OError fill:#ffcccc,stroke:#333
</pre></div>
</div>
</section>
<section id="id5">
<h3>When to Use/Avoid and Alternatives<a class="headerlink" href="#id5" title="Link to this heading">#</a></h3>
<p><strong>When to Use:</strong></p>
<ul class="simple">
<li><p>Production logging with structured data</p></li>
<li><p>Tracking request/response flows with correlation IDs</p></li>
<li><p>Performance monitoring with business context</p></li>
<li><p>Debugging complex multi-step processes</p></li>
</ul>
<p><strong>When to Avoid:</strong></p>
<ul class="simple">
<li><p>Simple debugging (use <code class="docutils literal notranslate"><span class="pre">log</span></code> instead)</p></li>
<li><p>When you don’t need structured data</p></li>
<li><p>High-frequency streams without sampling</p></li>
</ul>
<p><strong>Alternatives:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">log</span></code>: For simple debugging without structure</p></li>
<li><p>Custom <code class="docutils literal notranslate"><span class="pre">do_action</span></code>: For specific logging requirements</p></li>
<li><p>External APM tools for production monitoring</p></li>
</ul>
</section>
<section id="id6">
<h3>Nominal Usage Examples<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<section id="api-request-processing">
<h4>API Request Processing<a class="headerlink" href="#api-request-processing" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Simulate API request processing with context</span>
<span class="k">def</span><span class="w"> </span><span class="nf">process_request</span><span class="p">(</span><span class="n">request_id</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">rx</span><span class="o">.</span><span class="n">of</span><span class="p">(</span>
        <span class="p">{</span><span class="s2">&quot;step&quot;</span><span class="p">:</span> <span class="s2">&quot;validate&quot;</span><span class="p">,</span> <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;step&quot;</span><span class="p">:</span> <span class="s2">&quot;authorize&quot;</span><span class="p">,</span> <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;step&quot;</span><span class="p">:</span> <span class="s2">&quot;process&quot;</span><span class="p">,</span> <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;step&quot;</span><span class="p">:</span> <span class="s2">&quot;respond&quot;</span><span class="p">,</span> <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">}</span>
    <span class="p">)</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
        <span class="n">ops</span><span class="o">.</span><span class="n">delay</span><span class="p">(</span><span class="mf">0.1</span><span class="p">),</span>
        <span class="n">context_log</span><span class="p">(</span><span class="s2">&quot;RequestProcessor&quot;</span><span class="p">,</span> 
                   <span class="n">request_id</span><span class="o">=</span><span class="n">request_id</span><span class="p">,</span>
                   <span class="n">user_id</span><span class="o">=</span><span class="s2">&quot;user123&quot;</span><span class="p">,</span>
                   <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/api/orders&quot;</span><span class="p">)</span>
    <span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Example: API Request Context Logging&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-----------------------------------&quot;</span><span class="p">)</span>
<span class="n">process_request</span><span class="p">(</span><span class="s2">&quot;req-12345&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">subscribe</span><span class="p">()</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Example: API Request Context Logging
-----------------------------------
<span class=" -Color -Color-Green">20:06:22.021</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">Value: {&#39;step&#39;: &#39;validate&#39;, &#39;status&#39;: &#39;ok&#39;}</span>
<span class=" -Color -Color-Green">20:06:22.022</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">Value: {&#39;step&#39;: &#39;authorize&#39;, &#39;status&#39;: &#39;ok&#39;}</span>
<span class=" -Color -Color-Green">20:06:22.023</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">Value: {&#39;step&#39;: &#39;process&#39;, &#39;status&#39;: &#39;ok&#39;}</span>
<span class=" -Color -Color-Green">20:06:22.024</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">Value: {&#39;step&#39;: &#39;respond&#39;, &#39;status&#39;: &#39;ok&#39;}</span>
<span class=" -Color -Color-Green">20:06:22.024</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">Completed</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="multi-service-pipeline">
<h4>Multi-Service Pipeline<a class="headerlink" href="#multi-service-pipeline" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Simulate multi-service data pipeline</span>
<span class="n">order_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;order_id&quot;</span><span class="p">:</span> <span class="s2">&quot;ORD-789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;customer_id&quot;</span><span class="p">:</span> <span class="s2">&quot;CUST-456&quot;</span><span class="p">,</span>
    <span class="s2">&quot;total&quot;</span><span class="p">:</span> <span class="mf">150.00</span><span class="p">,</span>
    <span class="s2">&quot;items&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;item1&quot;</span><span class="p">,</span> <span class="s2">&quot;item2&quot;</span><span class="p">,</span> <span class="s2">&quot;item3&quot;</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">pipeline</span> <span class="o">=</span> <span class="n">rx</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="n">order_data</span><span class="p">)</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
    <span class="n">context_log</span><span class="p">(</span><span class="s2">&quot;OrderService&quot;</span><span class="p">,</span> <span class="n">service</span><span class="o">=</span><span class="s2">&quot;order&quot;</span><span class="p">,</span> <span class="n">environment</span><span class="o">=</span><span class="s2">&quot;prod&quot;</span><span class="p">),</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">order</span><span class="p">:</span> <span class="p">{</span><span class="o">**</span><span class="n">order</span><span class="p">,</span> <span class="s2">&quot;validated&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}),</span>
    <span class="n">context_log</span><span class="p">(</span><span class="s2">&quot;ValidationService&quot;</span><span class="p">,</span> <span class="n">service</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">,</span> <span class="n">environment</span><span class="o">=</span><span class="s2">&quot;prod&quot;</span><span class="p">),</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">order</span><span class="p">:</span> <span class="p">{</span><span class="o">**</span><span class="n">order</span><span class="p">,</span> <span class="s2">&quot;payment_id&quot;</span><span class="p">:</span> <span class="s2">&quot;PAY-&quot;</span> <span class="o">+</span> <span class="n">order</span><span class="p">[</span><span class="s2">&quot;order_id&quot;</span><span class="p">]}),</span>
    <span class="n">context_log</span><span class="p">(</span><span class="s2">&quot;PaymentService&quot;</span><span class="p">,</span> <span class="n">service</span><span class="o">=</span><span class="s2">&quot;payment&quot;</span><span class="p">,</span> <span class="n">environment</span><span class="o">=</span><span class="s2">&quot;prod&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Example: Multi-Service Pipeline&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-------------------------------&quot;</span><span class="p">)</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">subscribe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Example: Multi-Service Pipeline
-------------------------------
<span class=" -Color -Color-Green">20:06:22.427</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">Value: {&#39;order_id&#39;: &#39;ORD-789&#39;, &#39;customer_id&#39;: &#39;CUST-456&#39;, &#39;total&#39;: 150.0, &#39;items&#39;: [&#39;item1&#39;, &#39;item2&#39;, &#39;item3&#39;]}</span>
<span class=" -Color -Color-Green">20:06:22.427</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">Value: {&#39;order_id&#39;: &#39;ORD-789&#39;, &#39;customer_id&#39;: &#39;CUST-456&#39;, &#39;total&#39;: 150.0, &#39;items&#39;: [&#39;item1&#39;, &#39;item2&#39;, &#39;item3&#39;], &#39;validated&#39;: True}</span>
<span class=" -Color -Color-Green">20:06:22.428</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">Value: {&#39;order_id&#39;: &#39;ORD-789&#39;, &#39;customer_id&#39;: &#39;CUST-456&#39;, &#39;total&#39;: 150.0, &#39;items&#39;: [&#39;item1&#39;, &#39;item2&#39;, &#39;item3&#39;], &#39;validated&#39;: True, &#39;payment_id&#39;: &#39;PAY-ORD-789&#39;}</span>
<span class=" -Color -Color-Green">20:06:22.428</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">Completed</span>
<span class=" -Color -Color-Green">20:06:22.430</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">Completed</span>
<span class=" -Color -Color-Green">20:06:22.430</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">Completed</span>
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;reactivex.disposable.disposable.Disposable at 0x7f8ed0f83ad0&gt;
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="rich-log-rich-formatting-logger">
<h2><code class="docutils literal notranslate"><span class="pre">rich_log</span></code> - Rich Formatting Logger<a class="headerlink" href="#rich-log-rich-formatting-logger" title="Link to this heading">#</a></h2>
<section id="id7">
<h3>Description and Behavior<a class="headerlink" href="#id7" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">rich_log</span></code> operator provides enhanced formatting for different data types with color coding and special formatting for collections, numbers, and complex objects.</p>
<p><strong>Behavior Details:</strong></p>
<ul class="simple">
<li><p><strong>On Next</strong>: Formats values based on type with colors and structure</p></li>
<li><p><strong>On Complete</strong>: Shows completion with item count in green</p></li>
<li><p><strong>On Error</strong>: Shows errors in red with highlighting</p></li>
<li><p><strong>Internal Errors</strong>: Gracefully handles formatting failures</p></li>
</ul>
</section>
<section id="id8">
<h3>Nominal Usage Examples<a class="headerlink" href="#id8" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example with various data types</span>
<span class="n">mixed_data</span> <span class="o">=</span> <span class="n">rx</span><span class="o">.</span><span class="n">of</span><span class="p">(</span>
    <span class="mi">42</span><span class="p">,</span>
    <span class="o">-</span><span class="mi">15</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Alice&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="s2">&quot;city&quot;</span><span class="p">:</span> <span class="s2">&quot;NYC&quot;</span><span class="p">},</span>
    <span class="p">[</span><span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s2">&quot;banana&quot;</span><span class="p">,</span> <span class="s2">&quot;cherry&quot;</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="s2">&quot;elderberry&quot;</span><span class="p">,</span> <span class="s2">&quot;fig&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Simple string&quot;</span><span class="p">,</span>
    <span class="mf">3.14159</span><span class="p">,</span>
    <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;f&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">}</span>
<span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">mixed_data</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
    <span class="n">rich_log</span><span class="p">(</span><span class="s2">&quot;DataStream&quot;</span><span class="p">,</span> <span class="n">colorize</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show_type</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Example: Rich Formatted Logging&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-------------------------------&quot;</span><span class="p">)</span>
<span class="n">result</span><span class="o">.</span><span class="n">subscribe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Example: Rich Formatted Logging
-------------------------------
<span class=" -Color -Color-Green">20:06:22.436</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold -Color-Bold-Yellow">[DataStream]</span><span class=" -Color -Color-Bold"> Number: </span><span class=" -Color -Color-Bold -Color-Bold-Green">42</span><span class=" -Color -Color-Bold"> </span><span class=" -Color -Color-Bold -Color-Bold-Faint">(int)</span>
<span class=" -Color -Color-Green">20:06:22.437</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold -Color-Bold-Yellow">[DataStream]</span><span class=" -Color -Color-Bold"> Number: </span><span class=" -Color -Color-Bold -Color-Bold-Red">-15</span><span class=" -Color -Color-Bold"> </span><span class=" -Color -Color-Bold -Color-Bold-Faint">(int)</span>
<span class=" -Color -Color-Green">20:06:22.437</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold -Color-Bold-Yellow">[DataStream]</span><span class=" -Color -Color-Bold"> Number: </span><span class=" -Color -Color-Bold -Color-Bold-Blue">0</span><span class=" -Color -Color-Bold"> </span><span class=" -Color -Color-Bold -Color-Bold-Faint">(int)</span>
<span class=" -Color -Color-Yellow">[DataStream]</span> Dict: {<span class=" -Color -Color-Blue">name</span>: Alice, <span class=" -Color -Color-Blue">age</span>: 30, <span class=" -Color -Color-Blue">city</span>: NYC}
<span class=" -Color -Color-Green">20:06:22.438</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold -Color-Bold-Yellow">[DataStream]</span><span class=" -Color -Color-Bold"> List: </span><span class=" -Color -Color-Bold -Color-Bold-Magenta">[apple, banana, cherry, date, elderberry... (6 total)]</span>
<span class=" -Color -Color-Green">20:06:22.439</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold -Color-Bold-Yellow">[DataStream]</span><span class=" -Color -Color-Bold"> Value: Simple string </span><span class=" -Color -Color-Bold -Color-Bold-Faint">(str)</span>
<span class=" -Color -Color-Green">20:06:22.439</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold -Color-Bold-Yellow">[DataStream]</span><span class=" -Color -Color-Bold"> Number: </span><span class=" -Color -Color-Bold -Color-Bold-Green">3.14159</span><span class=" -Color -Color-Bold"> </span><span class=" -Color -Color-Bold -Color-Bold-Faint">(float)</span>
<span class=" -Color -Color-Yellow">[DataStream]</span> Dict (6 items):
  - <span class=" -Color -Color-Blue">a</span>: 1
  - <span class=" -Color -Color-Blue">b</span>: 2
  - <span class=" -Color -Color-Blue">c</span>: 3
  - <span class=" -Color -Color-Blue">d</span>: 4
  - <span class=" -Color -Color-Blue">e</span>: 5
  ... and 1 more items
<span class=" -Color -Color-Green">20:06:22.440</span> | <span class=" -Color -Color-Bold -Color-Bold-Green">SUCCESS </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold -Color-Bold-Yellow">[DataStream]</span><span class=" -Color -Color-Bold -Color-Bold-Green"> COMPLETED after 8 items</span>
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;reactivex.disposable.disposable.Disposable at 0x7f8ed0f83e30&gt;
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="perf-log-performance-monitoring-logger">
<h2><code class="docutils literal notranslate"><span class="pre">perf_log</span></code> - Performance Monitoring Logger<a class="headerlink" href="#perf-log-performance-monitoring-logger" title="Link to this heading">#</a></h2>
<section id="id9">
<h3>Description and Behavior<a class="headerlink" href="#id9" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">perf_log</span></code> operator tracks and logs performance metrics including timing, throughput, and interval statistics. Essential for performance optimization.</p>
<p><strong>Behavior Details:</strong></p>
<ul class="simple">
<li><p><strong>On Next</strong>: Tracks inter-arrival times and counts events</p></li>
<li><p><strong>On Complete</strong>: Logs comprehensive performance statistics</p></li>
<li><p><strong>On Error</strong>: Logs statistics up to the error point</p></li>
<li><p><strong>Internal Errors</strong>: None expected (simple arithmetic)</p></li>
</ul>
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TD
    subgraph &quot;Source Observable&quot;
        SNext[&quot;on_next: value&quot;]
        SComplete[&quot;on_completed&quot;]
        SError[&quot;on_error: err&quot;]
    end
    
    subgraph &quot;perf_log Operator&quot;
        RecordTime[&quot;Record current time&quot;]
        CalcInterval[&quot;Calculate interval&lt;br/&gt;since last event&quot;]
        StoreInterval[&quot;Store interval in list&quot;]
        CheckLogInterval[&quot;Log interval&lt;br/&gt;reached?&quot;]
        CalcStats[&quot;Calculate:&lt;br/&gt;• avg/min/max interval&lt;br/&gt;• events per second&lt;br/&gt;• total time&quot;]
        LogStats[&quot;Log performance stats&quot;]
    end
    
    subgraph &quot;Subscriber&quot;
        ONext[&quot;on_next: value&lt;br/&gt;(unchanged)&quot;]
        OComplete[&quot;on_completed&quot;]
        OError[&quot;on_error: err&quot;]
    end
    

    SNext --&gt; RecordTime
    RecordTime --&gt; CalcInterval
    CalcInterval --&gt; StoreInterval
    StoreInterval --&gt; CheckLogInterval
    CheckLogInterval --&gt;|Yes| CalcStats
    CheckLogInterval --&gt;|No| ONext
    CalcStats --&gt; LogStats
    LogStats --&gt; ONext
    

    SComplete --&gt; CalcStats
    CalcStats --&gt; LogStats
    LogStats --&gt; OComplete
    

    SError --&gt; CalcStats
    CalcStats --&gt; LogStats
    LogStats --&gt; OError
    

    style SNext fill:#e4f7fb,stroke:#333
    style SComplete fill:#e4f7fb,stroke:#333
    style SError fill:#e4f7fb,stroke:#333
    
    style RecordTime fill:#f96,stroke:#333
    style CalcInterval fill:#f96,stroke:#333
    style StoreInterval fill:#f96,stroke:#333
    style CheckLogInterval fill:#f96,stroke:#333
    style CalcStats fill:#f96,stroke:#333
    style LogStats fill:#f96,stroke:#333
    
    style ONext fill:#d5f5d5,stroke:#333
    style OComplete fill:#d5f5d5,stroke:#333
    style OError fill:#ffcccc,stroke:#333
</pre></div>
</div>
</section>
<section id="id10">
<h3>When to Use/Avoid and Alternatives<a class="headerlink" href="#id10" title="Link to this heading">#</a></h3>
<p><strong>When to Use:</strong></p>
<ul class="simple">
<li><p>Identifying performance bottlenecks</p></li>
<li><p>Monitoring production stream throughput</p></li>
<li><p>Comparing operator performance</p></li>
<li><p>Capacity planning and optimization</p></li>
</ul>
<p><strong>When to Avoid:</strong></p>
<ul class="simple">
<li><p>Very short streams (statistics not meaningful)</p></li>
<li><p>When timing precision isn’t important</p></li>
<li><p>Development/debugging (use simpler loggers)</p></li>
</ul>
<p><strong>Alternatives:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">scan</span></code> with custom timing logic</p></li>
<li><p>External monitoring tools (Prometheus, etc.)</p></li>
<li><p>Built-in <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> operator for raw timestamps</p></li>
</ul>
</section>
<section id="id11">
<h3>Nominal Usage Examples<a class="headerlink" href="#id11" title="Link to this heading">#</a></h3>
<section id="performance-comparison">
<h4>Performance Comparison<a class="headerlink" href="#performance-comparison" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Compare performance of different operators</span>
<span class="k">def</span><span class="w"> </span><span class="nf">heavy_computation</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="c1"># Simulate varying computation time</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">**</span> <span class="mi">2</span>

<span class="c1"># Source with consistent interval</span>
<span class="n">source</span> <span class="o">=</span> <span class="n">rx</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">ops</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>

<span class="c1"># Pipeline with performance monitoring</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
    <span class="n">perf_log</span><span class="p">(</span><span class="s2">&quot;Source&quot;</span><span class="p">,</span> <span class="n">log_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">heavy_computation</span><span class="p">),</span>
    <span class="n">perf_log</span><span class="p">(</span><span class="s2">&quot;After Heavy Computation&quot;</span><span class="p">,</span> <span class="n">log_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">),</span>
    <span class="n">perf_log</span><span class="p">(</span><span class="s2">&quot;After Filter&quot;</span><span class="p">,</span> <span class="n">log_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Example: Performance Monitoring&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;------------------------------&quot;</span><span class="p">)</span>
<span class="n">sub</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">subscribe</span><span class="p">()</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">2.5</span><span class="p">)</span>
<span class="n">sub</span><span class="o">.</span><span class="n">dispose</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Example: Performance Monitoring
------------------------------
<span class=" -Color -Color-Green">20:06:23.450</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">PERF [PROGRESS]: 10 events in 0.902s (11.1/sec) | interval: avg=100.26ms, min=100.25ms, max=100.27ms</span>
<span class=" -Color -Color-Green">20:06:23.470</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">PERF [PROGRESS]: 10 events in 0.905s (11.0/sec) | interval: avg=100.57ms, min=67.98ms, max=128.48ms</span>
<span class=" -Color -Color-Green">20:06:24.378</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">PERF [PROGRESS]: 10 events in 1.813s (5.5/sec) | interval: avg=201.49ms, min=177.37ms, max=224.46ms</span>
<span class=" -Color -Color-Green">20:06:24.453</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">PERF [PROGRESS]: 20 events in 1.905s (10.5/sec) | interval: avg=100.26ms, min=100.20ms, max=100.29ms</span>
<span class=" -Color -Color-Green">20:06:24.483</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">PERF [PROGRESS]: 20 events in 1.918s (10.4/sec) | interval: avg=100.94ms, min=67.98ms, max=128.62ms</span>
<span class=" -Color -Color-Green">20:06:24.483</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">PERF [COMPLETED]: 20 events in 1.935s (10.3/sec) | interval: avg=100.26ms, min=100.20ms, max=100.29ms</span>
<span class=" -Color -Color-Green">20:06:24.484</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">PERF [COMPLETED]: 20 events in 1.919s (10.4/sec) | interval: avg=100.94ms, min=67.98ms, max=128.62ms</span>
<span class=" -Color -Color-Green">20:06:24.485</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">PERF [COMPLETED]: 10 events in 1.920s (5.2/sec) | interval: avg=201.49ms, min=177.37ms, max=224.46ms</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="batch-processing-performance">
<h4>Batch Processing Performance<a class="headerlink" href="#batch-processing-performance" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Monitor batch processing performance</span>
<span class="n">batches</span> <span class="o">=</span> <span class="n">rx</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="mi">10</span><span class="p">,</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span><span class="p">))),</span>
    <span class="n">perf_log</span><span class="p">(</span><span class="s2">&quot;Batch Generator&quot;</span><span class="p">),</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">flat_map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">batch</span><span class="p">:</span> <span class="n">rx</span><span class="o">.</span><span class="n">from_</span><span class="p">(</span><span class="n">batch</span><span class="p">)),</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="k">lambda</span> <span class="n">acc</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">acc</span> <span class="o">+</span> <span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
    <span class="n">perf_log</span><span class="p">(</span><span class="s2">&quot;Accumulator&quot;</span><span class="p">,</span> <span class="n">log_interval</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Example: Batch Processing Performance&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;------------------------------------&quot;</span><span class="p">)</span>
<span class="n">sub</span> <span class="o">=</span> <span class="n">batches</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">on_next</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">None</span><span class="p">)</span>  <span class="c1"># Suppress output</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">sub</span><span class="o">.</span><span class="n">dispose</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Example: Batch Processing Performance
------------------------------------
<span class=" -Color -Color-Green">20:06:25.956</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">PERF [PROGRESS]: 20 events in 0.500s (40.0/sec) | interval: avg=26.33ms, min=0.00ms, max=500.25ms</span>
<span class=" -Color -Color-Green">20:06:26.957</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">PERF [PROGRESS]: 40 events in 1.501s (26.7/sec) | interval: avg=38.48ms, min=0.00ms, max=500.28ms</span>
<span class=" -Color -Color-Green">20:06:27.457</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">PERF [COMPLETED]: 5 events in 2.001s (2.5/sec) | interval: avg=500.26ms, min=500.23ms, max=500.29ms</span>
<span class=" -Color -Color-Green">20:06:27.458</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">PERF [COMPLETED]: 50 events in 2.002s (25.0/sec) | interval: avg=40.84ms, min=0.00ms, max=500.28ms</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="conditional-log-filtered-logging-operator">
<h2><code class="docutils literal notranslate"><span class="pre">conditional_log</span></code> - Filtered Logging Operator<a class="headerlink" href="#conditional-log-filtered-logging-operator" title="Link to this heading">#</a></h2>
<section id="id12">
<h3>Description and Behavior<a class="headerlink" href="#id12" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">conditional_log</span></code> operator only logs events that meet specified criteria, reducing log volume while maintaining visibility into important events.</p>
<p><strong>Behavior Details:</strong></p>
<ul class="simple">
<li><p><strong>On Next</strong>: Logs only if value predicate returns True</p></li>
<li><p><strong>On Complete</strong>: Logs summary of logged vs total events</p></li>
<li><p><strong>On Error</strong>: Logs only if error predicate returns True</p></li>
<li><p><strong>Internal Errors</strong>: Predicate exceptions are handled gracefully</p></li>
</ul>
</section>
<section id="id13">
<h3>Nominal Usage Examples<a class="headerlink" href="#id13" title="Link to this heading">#</a></h3>
<section id="log-only-errors-and-warnings">
<h4>Log Only Errors and Warnings<a class="headerlink" href="#log-only-errors-and-warnings" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Stream with mixed success/error responses</span>
<span class="n">responses</span> <span class="o">=</span> <span class="n">rx</span><span class="o">.</span><span class="n">from_</span><span class="p">([</span>
    <span class="p">{</span><span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">404</span><span class="p">,</span> <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;not found&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span> <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;server error&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">403</span><span class="p">,</span> <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;forbidden&quot;</span><span class="p">}</span>
<span class="p">])</span>

<span class="c1"># Only log errors</span>
<span class="n">error_responses</span> <span class="o">=</span> <span class="n">responses</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
    <span class="n">conditional_log</span><span class="p">(</span>
        <span class="s2">&quot;ErrorMonitor&quot;</span><span class="p">,</span>
        <span class="n">value_predicate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">400</span><span class="p">,</span>
        <span class="n">log_level</span><span class="o">=</span><span class="s2">&quot;WARNING&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Example: Conditional Error Logging&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;---------------------------------&quot;</span><span class="p">)</span>
<span class="n">error_responses</span><span class="o">.</span><span class="n">subscribe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Example: Conditional Error Logging
---------------------------------
<span class=" -Color -Color-Green">20:06:27.961</span> | <span class=" -Color -Color-Bold -Color-Bold-Yellow">WARNING </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold -Color-Bold-Yellow">Value: {&#39;status&#39;: 404, &#39;error&#39;: &#39;not found&#39;} (logged 1/2, 50.0%)</span>
<span class=" -Color -Color-Green">20:06:27.962</span> | <span class=" -Color -Color-Bold -Color-Bold-Yellow">WARNING </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold -Color-Bold-Yellow">Value: {&#39;status&#39;: 500, &#39;error&#39;: &#39;server error&#39;} (logged 2/4, 50.0%)</span>
<span class=" -Color -Color-Green">20:06:27.962</span> | <span class=" -Color -Color-Bold -Color-Bold-Yellow">WARNING </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold -Color-Bold-Yellow">Value: {&#39;status&#39;: 403, &#39;error&#39;: &#39;forbidden&#39;} (logged 3/6, 50.0%)</span>
<span class=" -Color -Color-Green">20:06:27.963</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">Completed. Logged 3/6 values (50.0%)</span>
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;reactivex.disposable.disposable.Disposable at 0x7f8ed0f2b8f0&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="high-value-transaction-logging">
<h4>High-Value Transaction Logging<a class="headerlink" href="#high-value-transaction-logging" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Stream of transactions</span>
<span class="n">transactions</span> <span class="o">=</span> <span class="n">rx</span><span class="o">.</span><span class="n">from_</span><span class="p">([</span>
    <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;amount&quot;</span><span class="p">:</span> <span class="mf">10.50</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;purchase&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;amount&quot;</span><span class="p">:</span> <span class="mf">1500.00</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;purchase&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;amount&quot;</span><span class="p">:</span> <span class="mf">25.00</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;refund&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;amount&quot;</span><span class="p">:</span> <span class="mf">5000.00</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;purchase&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;amount&quot;</span><span class="p">:</span> <span class="mf">75.00</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;purchase&quot;</span><span class="p">},</span>
<span class="p">])</span>

<span class="c1"># Only log high-value transactions</span>
<span class="n">high_value</span> <span class="o">=</span> <span class="n">transactions</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
    <span class="n">conditional_log</span><span class="p">(</span>
        <span class="s2">&quot;HighValueMonitor&quot;</span><span class="p">,</span>
        <span class="n">value_predicate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="n">t</span><span class="p">[</span><span class="s2">&quot;amount&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="p">,</span>
        <span class="n">summarize</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Example: High-Value Transaction Monitoring&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-----------------------------------------&quot;</span><span class="p">)</span>
<span class="n">high_value</span><span class="o">.</span><span class="n">subscribe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Example: High-Value Transaction Monitoring
-----------------------------------------
<span class=" -Color -Color-Green">20:06:27.970</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">Value: {&#39;id&#39;: 2, &#39;amount&#39;: 1500.0, &#39;type&#39;: &#39;purchase&#39;} (logged 1/2, 50.0%)</span>
<span class=" -Color -Color-Green">20:06:27.970</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">Value: {&#39;id&#39;: 4, &#39;amount&#39;: 5000.0, &#39;type&#39;: &#39;purchase&#39;} (logged 2/4, 50.0%)</span>
<span class=" -Color -Color-Green">20:06:27.971</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">Completed. Logged 2/5 values (40.0%)</span>
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;reactivex.disposable.disposable.Disposable at 0x7f8ed0f2bdd0&gt;
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="helper-functions">
<h2>Helper Functions<a class="headerlink" href="#helper-functions" title="Link to this heading">#</a></h2>
<section id="debug-stream-quick-debugging-helper">
<h3><code class="docutils literal notranslate"><span class="pre">debug_stream</span></code> - Quick Debugging Helper<a class="headerlink" href="#debug-stream-quick-debugging-helper" title="Link to this heading">#</a></h3>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Link to this heading">#</a></h4>
<p>A convenience function that uses <code class="docutils literal notranslate"><span class="pre">do_action</span></code> to quickly add debug logging at any point in a pipeline.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Quick debugging example</span>
<span class="n">rx</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
    <span class="n">debug_stream</span><span class="p">(</span><span class="s2">&quot;Input&quot;</span><span class="p">),</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">**</span> <span class="mi">2</span><span class="p">),</span>
    <span class="n">debug_stream</span><span class="p">(</span><span class="s2">&quot;Squared&quot;</span><span class="p">),</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">),</span>
    <span class="n">debug_stream</span><span class="p">(</span><span class="s2">&quot;Filtered&quot;</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">subscribe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">20:06:27.979</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">Completed</span>
<span class=" -Color -Color-Green">20:06:27.979</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">Completed</span>
<span class=" -Color -Color-Green">20:06:27.980</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">Completed</span>
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;reactivex.disposable.disposable.Disposable at 0x7f8ed0f82690&gt;
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="timestamp-stream-timing-helper">
<h3><code class="docutils literal notranslate"><span class="pre">timestamp_stream</span></code> - Timing Helper<a class="headerlink" href="#timestamp-stream-timing-helper" title="Link to this heading">#</a></h3>
<section id="id14">
<h4>Description<a class="headerlink" href="#id14" title="Link to this heading">#</a></h4>
<p>Adds elapsed time information to log messages, useful for understanding timing in async operations.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Timing analysis example</span>
<span class="n">rx</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span>
    <span class="n">timestamp_stream</span><span class="p">(</span><span class="s2">&quot;Start&quot;</span><span class="p">),</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">delay</span><span class="p">(</span><span class="mf">0.1</span><span class="p">),</span>
    <span class="n">timestamp_stream</span><span class="p">(</span><span class="s2">&quot;After Delay&quot;</span><span class="p">),</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="k">lambda</span> <span class="n">acc</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">acc</span> <span class="o">+</span> <span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
    <span class="n">timestamp_stream</span><span class="p">(</span><span class="s2">&quot;After Scan&quot;</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">on_next</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">20:06:28.186</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[0.200s] Next: int</span>
<span class=" -Color -Color-Green">20:06:28.287</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[0.301s] Next: int</span>
<span class=" -Color -Color-Green">20:06:28.288</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[0.302s] Next: int</span>
<span class=" -Color -Color-Green">20:06:28.386</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[0.401s] Next: int</span>
<span class=" -Color -Color-Green">20:06:28.487</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[0.502s] Next: int</span>
<span class=" -Color -Color-Green">20:06:28.488</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[0.502s] Next: int</span>
<span class=" -Color -Color-Green">20:06:28.587</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[0.601s] Next: int</span>
<span class=" -Color -Color-Green">20:06:28.687</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[0.702s] Next: int</span>
<span class=" -Color -Color-Green">20:06:28.688</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[0.702s] Next: int</span>
<span class=" -Color -Color-Green">20:06:28.787</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[0.801s] Next: int</span>
<span class=" -Color -Color-Green">20:06:28.888</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[0.902s] Next: int</span>
<span class=" -Color -Color-Green">20:06:28.889</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[0.903s] Next: int</span>
<span class=" -Color -Color-Green">20:06:28.987</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[1.001s] Next: int</span>
<span class=" -Color -Color-Green">20:06:28.988</span> | <span class=" -Color -Color-Bold -Color-Bold-Green">SUCCESS </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold -Color-Bold-Green">[1.003s] Completed</span>
<span class=" -Color -Color-Green">20:06:29.088</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[1.103s] Next: int</span>
<span class=" -Color -Color-Green">20:06:29.089</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[1.103s] Next: int</span>
<span class=" -Color -Color-Green">20:06:29.089</span> | <span class=" -Color -Color-Bold -Color-Bold-Green">SUCCESS </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold -Color-Bold-Green">[1.104s] Completed</span>
<span class=" -Color -Color-Green">20:06:29.090</span> | <span class=" -Color -Color-Bold -Color-Bold-Green">SUCCESS </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold -Color-Bold-Green">[1.104s] Completed</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="best-practices-and-tips">
<h2>Best Practices and Tips<a class="headerlink" href="#best-practices-and-tips" title="Link to this heading">#</a></h2>
<section id="choose-the-right-logger">
<h3>1. <strong>Choose the Right Logger</strong><a class="headerlink" href="#choose-the-right-logger" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">log</span></code>: Basic debugging</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">marble_log</span></code>: Timing visualization</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">context_log</span></code>: Production structured logging</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rich_log</span></code>: Complex data inspection</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">perf_log</span></code>: Performance analysis</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">conditional_log</span></code>: High-volume stream filtering</p></li>
</ul>
</section>
<section id="performance-considerations">
<h3>2. <strong>Performance Considerations</strong><a class="headerlink" href="#performance-considerations" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Bad: Logging everything in high-frequency stream</span>
<span class="n">rx</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="mf">0.001</span><span class="p">)</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
    <span class="n">log</span><span class="p">(</span><span class="s2">&quot;Too Much!&quot;</span><span class="p">)</span>  <span class="c1"># Don&#39;t do this!</span>
<span class="p">)</span>

<span class="c1"># Good: Sample or filter before logging</span>
<span class="n">rx</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="mf">0.001</span><span class="p">)</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mf">1.0</span><span class="p">),</span>  <span class="c1"># Sample once per second</span>
    <span class="n">log</span><span class="p">(</span><span class="s2">&quot;Sampled&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Better: Use conditional logging</span>
<span class="n">rx</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="mf">0.001</span><span class="p">)</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="k">lambda</span> <span class="n">acc</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">acc</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
    <span class="n">conditional_log</span><span class="p">(</span><span class="s2">&quot;Every100th&quot;</span><span class="p">,</span> 
                   <span class="n">value_predicate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="combining-loggers">
<h3>3. <strong>Combining Loggers</strong><a class="headerlink" href="#combining-loggers" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Use different loggers for different aspects</span>
<span class="n">stream</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
    <span class="n">context_log</span><span class="p">(</span><span class="s2">&quot;Service&quot;</span><span class="p">,</span> <span class="n">request_id</span><span class="o">=</span><span class="s2">&quot;123&quot;</span><span class="p">),</span>  <span class="c1"># Structure</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">transform</span><span class="p">),</span>
    <span class="n">perf_log</span><span class="p">(</span><span class="s2">&quot;Transform&quot;</span><span class="p">,</span> <span class="n">log_interval</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span>   <span class="c1"># Performance</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">validate</span><span class="p">),</span>
    <span class="n">conditional_log</span><span class="p">(</span><span class="s2">&quot;Errors&quot;</span><span class="p">,</span>                   <span class="c1"># Errors only</span>
                   <span class="n">value_predicate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">))</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="production-vs-development">
<h3>4. <strong>Production vs Development</strong><a class="headerlink" href="#production-vs-development" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Development: verbose logging</span>
<span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span>
    <span class="n">pipeline</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
        <span class="n">log</span><span class="p">(</span><span class="s2">&quot;Debug&quot;</span><span class="p">),</span>
        <span class="n">marble_log</span><span class="p">(</span><span class="s2">&quot;Timing&quot;</span><span class="p">),</span>
        <span class="n">ops</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">process</span><span class="p">),</span>
        <span class="n">rich_log</span><span class="p">(</span><span class="s2">&quot;Results&quot;</span><span class="p">)</span>
    <span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># Production: selective logging</span>
    <span class="n">pipeline</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
        <span class="n">context_log</span><span class="p">(</span><span class="s2">&quot;ProdService&quot;</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="s2">&quot;prod&quot;</span><span class="p">),</span>
        <span class="n">ops</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">process</span><span class="p">),</span>
        <span class="n">conditional_log</span><span class="p">(</span><span class="s2">&quot;Warnings&quot;</span><span class="p">,</span> 
                       <span class="n">value_predicate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">severity</span> <span class="o">&gt;</span> <span class="s2">&quot;INFO&quot;</span><span class="p">)</span>
    <span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="error-handling-examples">
<h2>Error Handling Examples<a class="headerlink" href="#error-handling-examples" title="Link to this heading">#</a></h2>
<section id="graceful-error-handling-in-streams">
<h3>Graceful Error Handling in Streams<a class="headerlink" href="#graceful-error-handling-in-streams" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Stream that might have errors</span>
<span class="k">def</span><span class="w"> </span><span class="nf">risky_operation</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cannot process </span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span>

<span class="n">source</span> <span class="o">=</span> <span class="n">rx</span><span class="o">.</span><span class="n">from_</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>

<span class="c1"># Log errors without stopping the stream</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
    <span class="n">log</span><span class="p">(</span><span class="s2">&quot;Input&quot;</span><span class="p">),</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">rx</span><span class="o">.</span><span class="n">just</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
        <span class="n">ops</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">risky_operation</span><span class="p">),</span>
        <span class="n">ops</span><span class="o">.</span><span class="n">catch</span><span class="p">(</span><span class="k">lambda</span> <span class="n">e</span><span class="p">,</span> <span class="n">src</span><span class="p">:</span> <span class="n">rx</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ERROR: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
    <span class="p">)),</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">merge_all</span><span class="p">(),</span>
    <span class="n">log</span><span class="p">(</span><span class="s2">&quot;Output&quot;</span><span class="p">),</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Example: Error Handling with Logging&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-----------------------------------&quot;</span><span class="p">)</span>
<span class="n">result</span><span class="o">.</span><span class="n">subscribe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Example: Error Handling with Logging
-----------------------------------
<span class=" -Color -Color-Green">20:06:29.492</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Input] [1] Value: 1</span>
<span class=" -Color -Color-Green">20:06:29.494</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Input] [2] Value: 2</span>
<span class=" -Color -Color-Green">20:06:29.494</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Input] [3] Value: 3</span>
<span class=" -Color -Color-Green">20:06:29.495</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Input] [4] Value: 4</span>
<span class=" -Color -Color-Green">20:06:29.496</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Input] [5] Value: 5</span>
<span class=" -Color -Color-Green">20:06:29.497</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Input] Completed after 5 values</span>
<span class=" -Color -Color-Green">20:06:29.497</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Output] [1] Value: 2</span>
<span class=" -Color -Color-Green">20:06:29.498</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Output] [2] Value: 4</span>
<span class=" -Color -Color-Green">20:06:29.498</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Output] [3] Value: 8</span>
<span class=" -Color -Color-Green">20:06:29.499</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Output] [4] Value: 10</span>
<span class=" -Color -Color-Green">20:06:29.500</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Output] [5] Value: ERROR: Cannot process 3</span>
<span class=" -Color -Color-Green">20:06:29.500</span> | <span class=" -Color -Color-Bold">INFO    </span> | <span class=" -Color -Color-Cyan">rxpy_opkit.logging_ops.logging_operators</span> - <span class=" -Color -Color-Bold">[Output] Completed after 5 values</span>
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;reactivex.disposable.disposable.Disposable at 0x7f8ed0f83230&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="performance-impact-of-logging">
<h3>Performance Impact of Logging<a class="headerlink" href="#performance-impact-of-logging" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Demonstrate performance impact</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">timeit</span>

<span class="k">def</span><span class="w"> </span><span class="nf">no_logging</span><span class="p">():</span>
    <span class="n">rx</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
        <span class="n">ops</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span><span class="p">),</span>
        <span class="n">ops</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">)</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">on_next</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">None</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">with_logging</span><span class="p">():</span>
    <span class="n">rx</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
        <span class="n">log</span><span class="p">(</span><span class="s2">&quot;Input&quot;</span><span class="p">,</span> <span class="n">log_values</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">log_completion</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
        <span class="n">ops</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span><span class="p">),</span>
        <span class="n">log</span><span class="p">(</span><span class="s2">&quot;Mapped&quot;</span><span class="p">,</span> <span class="n">log_values</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">log_completion</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
        <span class="n">ops</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">),</span>
        <span class="n">log</span><span class="p">(</span><span class="s2">&quot;Filtered&quot;</span><span class="p">,</span> <span class="n">log_values</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">log_completion</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="p">)</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">on_next</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">None</span><span class="p">)</span>

<span class="c1"># Temporarily suppress logging output for timing</span>
<span class="n">logger</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>

<span class="n">no_log_time</span> <span class="o">=</span> <span class="n">timeit</span><span class="o">.</span><span class="n">timeit</span><span class="p">(</span><span class="n">no_logging</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">with_log_time</span> <span class="o">=</span> <span class="n">timeit</span><span class="o">.</span><span class="n">timeit</span><span class="p">(</span><span class="n">with_logging</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># Re-enable logging</span>
<span class="n">logger</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;INFO&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Performance Impact of Logging:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Without logging: </span><span class="si">{</span><span class="n">no_log_time</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;With logging: </span><span class="si">{</span><span class="n">with_log_time</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Overhead: </span><span class="si">{</span><span class="p">((</span><span class="n">with_log_time</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">no_log_time</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">no_log_time</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Performance Impact of Logging:
Without logging: 0.1104s
With logging: 0.1439s
Overhead: 30.4%
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Link to this heading">#</a></h2>
<p>The RxPy OpKit logging operators provide a comprehensive toolkit for debugging and monitoring reactive streams:</p>
<ol class="arabic simple">
<li><p><strong>Basic Logging</strong> (<code class="docutils literal notranslate"><span class="pre">log</span></code>) - Simple, effective debugging</p></li>
<li><p><strong>Visual Logging</strong> (<code class="docutils literal notranslate"><span class="pre">marble_log</span></code>) - ASCII marble diagrams</p></li>
<li><p><strong>Structured Logging</strong> (<code class="docutils literal notranslate"><span class="pre">context_log</span></code>) - Production-ready with context</p></li>
<li><p><strong>Pretty Logging</strong> (<code class="docutils literal notranslate"><span class="pre">rich_log</span></code>) - Enhanced formatting for complex data</p></li>
<li><p><strong>Performance Logging</strong> (<code class="docutils literal notranslate"><span class="pre">perf_log</span></code>) - Detailed timing analysis</p></li>
<li><p><strong>Filtered Logging</strong> (<code class="docutils literal notranslate"><span class="pre">conditional_log</span></code>) - Reduce log volume intelligently</p></li>
</ol>
<p>Choose the right logger for your use case and remember to consider performance impacts in production environments.</p>
<section id="documentation-and-reference-links">
<h3>Documentation and Reference Links<a class="headerlink" href="#documentation-and-reference-links" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="#"><span class="xref myst">RxPy OpKit GitHub Repository</span></a> - Source code and examples</p></li>
<li><p><a class="reference external" href="https://rxpy.readthedocs.io/">RxPy Documentation</a> - Official RxPy docs</p></li>
<li><p><a class="reference external" href="https://loguru.readthedocs.io/">Loguru Documentation</a> - Logging library used</p></li>
<li><p><a class="reference external" href="http://reactivex.io/">Reactive Extensions</a> - ReactiveX concepts and patterns</p></li>
</ul>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./logging"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../flat_operators/flat_operators_placeholder.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Flat Operators (Coming Soon)</p>
      </div>
    </a>
    <a class="right-next"
       href="../missing_operators/missing_operators_placeholder.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Missing Operators (Coming Soon)</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">RxPy OpKit: Logging Operators Guide</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#setup-and-imports">Setup and Imports</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#logging-loguru-setup">Logging (Loguru) Setup</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#logging-operators-from-rxpy-opkit">Logging Operators from <code class="docutils literal notranslate"><span class="pre">rxpy-opkit</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#log-basic-logging-operator"><code class="docutils literal notranslate"><span class="pre">log</span></code> - Basic Logging Operator</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#description-and-behavior">Description and Behavior</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#when-to-use-avoid-and-alternatives">When to Use/Avoid and Alternatives</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nominal-usage-examples">Nominal Usage Examples</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-example">Basic Example</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#custom-formatting-example">Custom Formatting Example</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#error-handling">Error Handling</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#example-handling-formatter-errors">Example: Handling Formatter Errors</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#marble-log-ascii-marble-diagram-logger"><code class="docutils literal notranslate"><span class="pre">marble_log</span></code> - ASCII Marble Diagram Logger</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Description and Behavior</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">When to Use/Avoid and Alternatives</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Nominal Usage Examples</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-marble-diagram">Basic Marble Diagram</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#multiple-streams-comparison">Multiple Streams Comparison</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#context-log-contextual-logger-with-structured-data"><code class="docutils literal notranslate"><span class="pre">context_log</span></code> - Contextual Logger with Structured Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Description and Behavior</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">When to Use/Avoid and Alternatives</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">Nominal Usage Examples</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#api-request-processing">API Request Processing</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#multi-service-pipeline">Multi-Service Pipeline</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rich-log-rich-formatting-logger"><code class="docutils literal notranslate"><span class="pre">rich_log</span></code> - Rich Formatting Logger</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Description and Behavior</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Nominal Usage Examples</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#perf-log-performance-monitoring-logger"><code class="docutils literal notranslate"><span class="pre">perf_log</span></code> - Performance Monitoring Logger</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">Description and Behavior</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">When to Use/Avoid and Alternatives</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">Nominal Usage Examples</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#performance-comparison">Performance Comparison</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#batch-processing-performance">Batch Processing Performance</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conditional-log-filtered-logging-operator"><code class="docutils literal notranslate"><span class="pre">conditional_log</span></code> - Filtered Logging Operator</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">Description and Behavior</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">Nominal Usage Examples</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#log-only-errors-and-warnings">Log Only Errors and Warnings</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#high-value-transaction-logging">High-Value Transaction Logging</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#helper-functions">Helper Functions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#debug-stream-quick-debugging-helper"><code class="docutils literal notranslate"><span class="pre">debug_stream</span></code> - Quick Debugging Helper</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#description">Description</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#timestamp-stream-timing-helper"><code class="docutils literal notranslate"><span class="pre">timestamp_stream</span></code> - Timing Helper</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">Description</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#best-practices-and-tips">Best Practices and Tips</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#choose-the-right-logger">1. <strong>Choose the Right Logger</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#performance-considerations">2. <strong>Performance Considerations</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#combining-loggers">3. <strong>Combining Loggers</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#production-vs-development">4. <strong>Production vs Development</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#error-handling-examples">Error Handling Examples</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#graceful-error-handling-in-streams">Graceful Error Handling in Streams</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#performance-impact-of-logging">Performance Impact of Logging</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#documentation-and-reference-links">Documentation and Reference Links</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By GProtoZeroW
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <div>
  <a href="https://reactivex.io/">ReactiveX</a>
</div>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>